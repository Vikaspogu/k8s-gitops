---
apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
  namespace: default
  labels:
    app.kubernetes.io/name: homepage
data:
  kubernetes.yaml: |
    mode: cluster
  settings.yaml: |
    # https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/ICONS.md
    # https://pictogrammers.com/library/mdi/
    # https://simpleicons.org/
    title: Dashboard
    favicon: https://github.com/walkxcode/dashboard-icons/blob/main/png/heimdall.png
    theme: dark
    headerStyle: clean
    hideVersion: true
    quicklaunch:
      searchDescriptions: true
      hideInternetSearch: true
    layout:
      Security:
        style: row
        columns: 2
        icon: mdi-shield-home
      Home:
        style: row
        columns: 2
        icon: mdi-home-analytics
      Media:
        style: row
        columns: 2
        icon: mdi-play-circle
      Personal:
        style: row
        columns: 2
        icon: mdi-monitor-dashboard
      Downloads:
        style: row
        columns: 3
        icon: mdi-download-circle
      Automation:
        style: row
        columns: 3
        icon: mdi-home-automation
      Monitoring:
        style: column
        icon: mdi-monitor-eye
      Infrastructure:
        style: column
        icon: mdi-server-network
      Storage:
        style: column
        icon: mdi-database
      System:
        style: column
        icon: mdi-application
  custom.css: ""
  custom.js: ""
  bookmarks.yaml: |
    - Social:
        - Gmail:
            - icon: gmail.png
              href: http://gmail.com
        - Reddit:
            - icon: reddit.png
              href: https://reddit.com
        - YouTube:
            - icon: youtube.png
              href: https://youtube.com/feed/subscriptions
    - Cloud:
        - CloudFlare:
            - icon: cloudflare.png
              href: https://dash.cloudflare.com
        - Terraform Cloud:
            - icon: terraform.png
              href: https://app.terraform.io
        - Pushover:
            - icon: pushover.png
              href: https://client.pushover.net/
    - Git:
        - k8s-at-home:
            - icon: kubernetes-dashboard.png
              description: Helm Chart Search
              href: https://kubesearch.dev/
        - home-cluster:
            - icon: github.png
              description: Repository
              href: https://github.com/vikaspogu/k8s-gitops
  services.yaml: |
    - Infrastructure:
        - OPNSense:
            href: https://router.{{HOMEPAGE_VAR_DOMAIN_NAME}}
            icon: cloudflare-zero-trust.png
            description: Router
            widget:
              type: opnsense
              url: https://router.{{HOMEPAGE_VAR_DOMAIN_NAME}}
              username: {{HOMEPAGE_VAR_OPNSENSE_KEY}}
              password: {{HOMEPAGE_VAR_OPNSENSE_SECRET}}
    - Media:
      - qBittorrent:
          href: https://qb.${SECRET_DOMAIN}
          icon: qbittorrent.png
          description: TODO
          widget:
            type: qbittorrent
            url: http://qbittorrent.downloads.svc.cluster.local
            username: {{HOMEPAGE_VAR_QBITTORRENT_USERNAME}}
            password: {{HOMEPAGE_VAR_QBITTORRENT_PASSWORD}}
      - Prowlarr:
          href: https://prowlarr.${SECRET_DOMAIN}
          icon: prowlarr.png
          description: TODO
          widget:
            type: prowlarr
            url: http://prowlarr.downloads.svc.cluster.local
            key: {{HOMEPAGE_VAR_PROWLARR_API_KEY}}
      - Sabnzbd:
          href: https://sabnzbd.${SECRET_DOMAIN}
          icon: sabnzbd.png
          description: TODO
          widget:
            type: sabnzbd
            url: http://sabnzbd.downloads.svc.cluster.local
            key: {{HOMEPAGE_VAR_SABNZBD_API_KEY}}
      - Plex:
          href: https://plex.${SECRET_DOMAIN}
          icon: plex.png
          description: Mediaserver
          widget:
            type: plex
            url: http://{{HOMEPAGE_VAR_PLEX_IP}}:32400
            key: {{HOMEPAGE_VAR_PLEX_API_KEY}}
      - Overseerr:
          href: https://overseerr.${SECRET_DOMAIN}
          icon: overseerr.png
          description: Request media
          widget:
            type: overseerr
            url: http://overseerr.media.svc.cluster.local
            key: {{HOMEPAGE_VAR_OVERSEERR_API_KEY}}
      - Bazarr:
          href: https://bazarr.${SECRET_DOMAIN}
          icon: bazarr.png
          description: Subtitles
          widget:
            type: bazarr
            url: http://bazarr.media.svc.cluster.local
            key: {{HOMEPAGE_VAR_BAZARR_API_KEY}}
      - Radarr:
          href: https://radarr.${SECRET_DOMAIN}
          icon: radarr.png
          description: Movies
          widget:
            type: radarr
            url: http://radarr.media.svc.cluster.local
            key: {{HOMEPAGE_VAR_RADARR_API_KEY}}
      - Sonarr:
          href: https://sonarr.${SECRET_DOMAIN}
          icon: sonarr.png
          description: TV Shows
          widget:
            type: sonarr
            url: http://sonarr.media.svc.cluster.local
            key: {{HOMEPAGE_VAR_SONARR_API_KEY}}
    - Personal:
        - Ghostfolio:
            href: https://ghostfolio.{{HOMEPAGE_VAR_DOMAIN_NAME}}
            icon: ghostfolio.png
            widget:
              type: ghostfolio
              url: http://ghostfolio.default.svc.cluster.local:3333
              key: {{HOMEPAGE_VAR_GHOSTFOLIO_API_KEY}}
        - Miniflux:
            href: https://miniflux.{{HOMEPAGE_VAR_DOMAIN_NAME}}
            icon: miniflux.png
            widget:
              type: miniflux
              url: http://miniflux.default.svc.cluster.local:8080
              key: {{HOMEPAGE_VAR_MINIFLUX_API_TOKEN}}
    - Storage:
        - NAS:
            href: https://nas.{{HOMEPAGE_VAR_DOMAIN_NAME}}
            icon: synology-dsm.png
            widget:
              type: diskstation
              url: {{HOMEPAGE_VAR_NAS_IP}}
              username: {{HOMEPAGE_VAR_DSM_USER}}
              password: {{HOMEPAGE_VAR_DSM_PASSWORD}}
  widgets.yaml: |
    - search:
        provider: [google]
        focus: false
        target: _blank
    - kubernetes:
        cluster:
          cpu: true
          label: cluster
          memory: true
          show: true
          showLabel: true
        nodes:
          cpu: true
          memory: true
          show: false
          showLabel: true
    - openmeteo:
        label: Home
        latitude: {{HOMEPAGE_VAR_LATITUDE}}
        longitude: {{HOMEPAGE_VAR_LONGITUDE}}
        units: metric
        cache: 5
    - datetime:
        text_size: l
        format:
          dateStyle: long
          timeStyle: short
          hourCycle: h23
    - unifi_console:
        url: https://{{HOMEPAGE_VAR_UNIFI_IP}}
        username: {{HOMEPAGE_VAR_UNIFI_USER}}
        password: {{HOMEPAGE_VAR_UNIFI_PASSWORD}}
  docker.yaml: ""
